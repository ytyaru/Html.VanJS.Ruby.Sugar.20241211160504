# Ruby簡易構文

簡易構文|HTML
--------|----
`漢字《かんじ》`|`<ruby>漢字<rt>かんじ</rt></ruby>`
`｜漢字《かんじ》`|`<ruby>漢字<rt>かんじ</rt></ruby>`
`↑漢字《かんじ》`|`<ruby style="ruby-position:over;">漢字<rt>かんじ</rt></ruby>`
`↓漢字《かんじ》`|`<ruby style="ruby-position:under;">漢字<rt>かんじ</rt></ruby>`
`漢字《かんじ｜カンジ》`|`<ruby style="ruby-position:under;"><ruby style="ruby-position:over;">漢字<rt>かんじ</rt></ruby><rt>カンジ</rt></ruby>`
`｜漢字《かんじ｜カンジ》`|`<ruby style="ruby-position:under;"><ruby style="ruby-position:over;">漢字<rt>かんじ</rt></ruby><rt>カンジ</rt></ruby>`
`漢字《｜カンジ》`|`<ruby>漢字<rt>カンジ</rt></ruby>`
`漢字《かん,じ》`|`<ruby>漢<rt>かん</rt>字<rt>じ</rt></ruby>`

簡易構文|HTML
--------|----
`｜論救の御手《ロジカル・サルベータ》`|`<ruby>論救の御手<rt>ロジカル・サルベータ</rt></ruby>`
`↑論救の御手《ロジカル・サルベータ》`|`<ruby style="ruby-position:over;">論救の御手<rt>ロジカル・サルベータ</rt></ruby>`
`↓論救の御手《ロジカル・サルベータ》`|`<ruby style="ruby-position:under;">論救の御手<rt>ロジカル・サルベータ</rt></ruby>`
`｜論救の御手《｜ロジカル・サルベータ》`|`<ruby>論救の御手<rt>ロジカル・サルベータ</rt></ruby>`

　親文字が漢字以外を含み、かつ複数の漢字群がある場合、ルビ`《》`内の`｜`は漢字群へのルビとする。上下ルビではない。

簡易構文|HTML
--------|----
`｜論救の御手《ろんきゅう｜みて》`|`<ruby>論救<rt>ろんきゅう</rt></ruby>の<ruby>御手<rt>みて</rt></ruby>`
`↑論救の御手《ろんきゅう｜みて》`|`<ruby style="...">論救<rt>ろんきゅう</rt></ruby>の<ruby style="...">御手<rt>みて</rt></ruby>`
`↓論救の御手《ろんきゅう｜みて》`|`<ruby style="...">論救<rt>ろんきゅう</rt></ruby>の<ruby style="...">御手<rt>みて</rt></ruby>`

　親文字が漢字以外を含み、かつ複数の漢字群がある場合、かつルビ群が漢字群の数を上回った場合、別側（上下）のルビとする。

簡易構文|HTML
--------|----
`｜論救の御手《ろんきゅう｜みて｜ロジカル・サルベータ》`|`<ruby style="ruby-position:under;"><ruby style="ruby-position:over;">論救<rt>ろんきゅう</rt></ruby>の<ruby style="ruby-position:over;">御手<rt>みて</rt></ruby><rt>ロジカル・サルベータ</rt></ruby>`
`↑論救の御手《ろんきゅう｜みて｜ロジカル・サルベータ》`|`<ruby style="ruby-position:under;"><ruby style="ruby-position:over;">論救<rt>ろんきゅう</rt></ruby>の<ruby style="ruby-position:over;">御手<rt>みて</rt></ruby><rt>ロジカル・サルベータ</rt></ruby>`
`↓論救の御手《ろんきゅう｜みて｜ロジカル・サルベータ》`|`<ruby style="ruby-position:over;"><ruby style="ruby-position:under;">論救<rt>ろんきゅう</rt></ruby>の<ruby style="ruby-position:over;">御手<rt>みて</rt></ruby><rt>ロジカル・サルベータ</rt></ruby>`
`｜論救の御手《ろん,きゅう｜み,て｜ロジカル・サルベータ》`|`<ruby style="under"><ruby style="over">論<rt>ろん</rt>救<rt>きゅう</rt></ruby>の<ruby style="over">御<rt>み</rt>手<rt>て</rt></ruby><rt>ロジカル・サルベータ</rt></ruby>`

部位名|例|区切文字
------|--|--------
親文字・ルビ文字|`｜親文字《ルビ文字》`|`｜《》`
`漢字群・ルビ群`|`｜漢字群ほか漢字群《ルビ群｜ルビ群》`|`｜`
漢字・ルビ|一字の漢字とそれに対応するルビ|`,`

* 親文字
    * 漢字のみ
    * 文字種不問（範囲指定単一ルビ振り）
    * 漢字群＋漢字以外を含む
* ルビ文字
    * 一つ（上）
    * 一つ（下）
    * 二つ（上下）
* ルビ分割単位
    * 全体で一つ（上下片方）
    * 全体で二つ（上下両方）
    * 漢字群（非漢字との境界線ごとに分割`｜`）
    * 漢字（一字ごとに分割`,`）

　URLは対象外にしたほうが良さそう。複雑化しすぎる。特に以下パターンの区別をすると超面倒になる。

* 所定の文章全体（`<ruby>`やそれ以外も含む）
* `<ruby>`全体
* `<rb>`個別
* `<rt>`個別

簡易構文|HTML
--------|----
`漢字《かんじ https://...》`|`<a href="https://..."><ruby>漢字<rt>かんじ</rt></ruby></a>`
`[漢字《かん,じ》](https://...)`|`<a href="https://..."><ruby>漢字<rt>かんじ</rt></ruby></a>`
`[[漢](https://...)字《[かん](https://...),じ》](https://...)`|`<a href="https://..."><ruby>漢字<rt>かんじ</rt></ruby></a>`

　リンクはMarkdownパーサに丸投げする。たぶん`<ruby>`全体にリンクするなら可能なはず。要検証。

```html
<ruby>論救の御手<rp>（</rp><rt>ロジカル・サルベータ</rt><rp>）</rp></ruby>
```
```
｜論救の御手《ロジカル・サルベータ》
```
```
｜論救《ろんきゅう》の御手《みて》｜《ロジカル・サルベータ》
```
```
↑論救《ろんきゅう》の御手《みて》↓《ロジカル・サルベータ》
```
```html
<ruby>漢字<rp>（</rp><rt>かんじ</rt><rp>）</rp></ruby>
```
```
漢字《かんじ》
```
```html
<ruby>漢字<rp>（</rp><rt>かんじ</rt><rp>）</rp></ruby>
```
```html
<ruby style="ruby-position:under;">漢字<rp>（</rp><rt>かんじ</rt><rp>）</rp></ruby>
```
```
↓漢字《かんじ》
```
```html
<ruby style="ruby-position:over;">漢字<rp>（</rp><rt>かんじ</rt><rp>）</rp></ruby>
```
```
↑漢字《かんじ》
```

```html
<ruby style="ruby-position:under;"><ruby style="ruby-position:over;">漢字<rt>かんじ</rt></ruby><rt>カンジ</rt></ruby>
```
```
漢字《かんじ｜カンジ》
漢字《↑かんじ↓カンジ》
```

